# Gitea MCP Server
# Provides Gitea API tools for self-hosted Git
#
# Required secrets in .env:
#   EMCP_GITEA_SECRET=your_gitea_token
#   GITEA_HOST=https://your-gitea-instance.example.com
#
# 1. Add the service block below to docker-compose.yaml under 'services:'
# 2. Save the JSON config to configs/gitea.json
# 3. Run: docker compose up -d gitea-mcp
# 4. Register: docker exec emcp-server /mcpjungle register -c /configs/gitea.json

# --- docker-compose service ---
# gitea-mcp:
#   image: docker.gitea.com/gitea-mcp-server
#   container_name: gitea-mcp
#   command:
#     - "/app/gitea-mcp"
#     - "-t"
#     - "stdio"
#     - "--host"
#     - "${GITEA_HOST:-https://gitea.example.com}"
#   stdin_open: true
#   tty: true
#   environment:
#     - GITEA_ACCESS_TOKEN=${EMCP_GITEA_SECRET}
#   networks:
#     - emcp-network
#   restart: unless-stopped

# --- configs/gitea.json ---
# {
#     "name": "gitea",
#     "transport": "stdio",
#     "description": "Gitea integration for self-hosted Git",
#     "command": "docker",
#     "args": ["exec", "-i", "gitea-mcp", "/app/gitea-mcp", "-t", "stdio"]
# }
